#!/usr/bin/env python
# -*- coding: utf-8 -*-

import pretty_midi
from key2chord import key2chord
from analize_logging import logger


def chords2midi(chords_dict, file_name):
    # pretty midiオブジェクトを作る
    piano_chord = pretty_midi.PrettyMIDI()

    # 楽器名を入れると、対応するgeneral midi program numberを返す
    piano_program = pretty_midi.instrument_name_to_program('Acoustic Grand Piano')

    # Instrument instanceをcelloとして作成
    piano = pretty_midi.Instrument(program=piano_program)

    # 解析したコードを単音のリストにバラす
    for i, chord in enumerate(chords_dict["chords_result"]["chords"]):
        logger.info(i, chord)
        # Nの時はスキップ（ノートに書き込まない）
        if chord['chord'] == "N":
            continue
        chords_list = key2chord(chord)
        logger.info("chords list: {}".format(chords_list))
        logger.info("start time: {}".format(chord["time"]))
        logger.info("end time: {}".format(chords_dict["chords_result"]["chords"][i+1]["time"]-0.1))
        # print("time: {}".format(float(chords_dict["chords_result"]["chords"][i+1]["time"])-float(chord["time"])))
        for note_name in chords_list:
            # コードの名前を数字に変換
            note_number = pretty_midi.note_name_to_number(note_name)
            logger.info("chord name {0}, chord num {1}".format(note_name, note_number))
            # velocityを定義する
            try:
                note = pretty_midi.Note(
                    velocity=100,
                    pitch=note_number,
                    start=chord["time"],
                    end=chords_dict["chords_result"]
                            ["chords"][i+1]["time"]-0.1
                )
                # print(note)
                # 上記で作成したnoteをchelloインスタンスに加える
                piano.notes.append(note)
            except IndexError:  # 最後の章は0.5秒とする
                logger.info("note last code")
                note = pretty_midi.Note(
                    velocity=100,
                    pitch=note_number,
                    start=chord["time"],
                    end=chord["time"]+0.5
                )
                # 上記で作成したnoteをchelloインスタンスに加える
                piano.notes.append(note)
    # PrettyMIDIオブジェクトに加える
    piano_chord.instruments.append(piano)
    print(piano)
    print(piano_chord)
    midi_file = "midi/" + str(file_name) + ".mid"
    # MIDIファイルとして書き出す
    piano_chord.write(midi_file)

    # Load MIDI file into PrettyMIDI object
    midi_data = pretty_midi.PrettyMIDI(midi_file)
    # Print an empirical estimate of its global tempo
    print(midi_data.estimate_tempo())


if __name__ == "__main__":
    file_name = "Catch_the_star_htpp"
    # HighPressure
    chords_dict = {"status":{"code":200},"chords_result":{"num_chords":168,"chords":[{"index":0,"time":0.02199999988079071,"chord":"N"},{"index":1,"time":8.04381275177002,"chord":"C#:7"},{"index":2,"time":13.778499603271484,"chord":"G#:maj"},{"index":3,"time":14.69543743133545,"chord":"A#:min7"},{"index":4,"time":15.612250328063965,"chord":"F#:maj"},{"index":5,"time":16.52831268310547,"chord":"C#:maj"},{"index":6,"time":17.44587516784668,"chord":"G#:maj"},{"index":7,"time":18.362438201904297,"chord":"A#:min7"},{"index":8,"time":19.28068733215332,"chord":"F#:maj7"},{"index":9,"time":20.197999954223633,"chord":"D#:min"},{"index":10,"time":22.261688232421875,"chord":"A#:min7"},{"index":11,"time":23.87150001525879,"chord":"F#:maj"},{"index":12,"time":25.710311889648438,"chord":"G#:maj"},{"index":13,"time":27.546812057495117,"chord":"C#:maj"},{"index":14,"time":31.2137508392334,"chord":"D:maj6"},{"index":15,"time":33.051185607910156,"chord":"A:min"},{"index":16,"time":33.9692497253418,"chord":"E:maj"},{"index":17,"time":34.88718795776367,"chord":"D:maj6"},{"index":18,"time":36.72193908691406,"chord":"A:maj6"},{"index":19,"time":37.640438079833984,"chord":"E:maj"},{"index":20,"time":38.55799865722656,"chord":"B:min"},{"index":21,"time":39.474063873291016,"chord":"D:maj6"},{"index":22,"time":40.389312744140625,"chord":"A:maj"},{"index":23,"time":41.30618667602539,"chord":"E:maj"},{"index":24,"time":42.22506332397461,"chord":"B:min"},{"index":25,"time":43.147438049316406,"chord":"D:maj6"},{"index":26,"time":44.07099914550781,"chord":"A:maj6"},{"index":27,"time":44.99156188964844,"chord":"E:maj"},{"index":28,"time":46.13743591308594,"chord":"G:maj7"},{"index":29,"time":47.74187469482422,"chord":"E:min7"},{"index":30,"time":49.56843566894531,"chord":"A:7"},{"index":31,"time":51.40568923950195,"chord":"B:min7"},{"index":32,"time":53.93306350708008,"chord":"G:maj6"},{"index":33,"time":55.99518585205078,"chord":"E:min"},{"index":34,"time":56.91006088256836,"chord":"A:7"},{"index":35,"time":58.74537658691406,"chord":"B:7"},{"index":36,"time":61.506439208984375,"chord":"F:maj"},{"index":37,"time":62.42525100708008,"chord":"C#:maj7"},{"index":38,"time":63.342498779296875,"chord":"G#:maj"},{"index":39,"time":64.25887298583984,"chord":"A#:min7"},{"index":40,"time":65.17575073242188,"chord":"F#:maj"},{"index":41,"time":66.09294128417969,"chord":"C#:maj"},{"index":42,"time":67.00943756103516,"chord":"G#:maj"},{"index":43,"time":67.92662811279297,"chord":"A#:min7"},{"index":44,"time":68.84506225585938,"chord":"F#:maj"},{"index":45,"time":69.76325225830078,"chord":"D#:min"},{"index":46,"time":71.6014404296875,"chord":"A#:min7"},{"index":47,"time":73.4359359741211,"chord":"F#:maj7"},{"index":48,"time":75.2698745727539,"chord":"G#:maj"},{"index":49,"time":77.10506439208984,"chord":"C#:maj"},{"index":50,"time":78.0234375,"chord":"G#:maj"},{"index":51,"time":78.94125366210938,"chord":"A#:min7"},{"index":52,"time":79.86080932617188,"chord":"F#:maj"},{"index":53,"time":80.7795639038086,"chord":"C#:maj"},{"index":54,"time":81.69599914550781,"chord":"G#:maj"},{"index":55,"time":82.61174774169922,"chord":"A#:min7"},{"index":56,"time":83.52987670898438,"chord":"F#:maj7"},{"index":57,"time":84.44793701171875,"chord":"D#:min"},{"index":58,"time":86.2828140258789,"chord":"A#:min"},{"index":59,"time":88.1170654296875,"chord":"F#:maj7"},{"index":60,"time":89.95331573486328,"chord":"G#:maj"},{"index":61,"time":91.56124877929688,"chord":"C#:maj"},{"index":62,"time":95.46493530273438,"chord":"B:maj"},{"index":63,"time":96.38143920898438,"chord":"D:maj6"},{"index":64,"time":97.75518798828125,"chord":"E:maj"},{"index":65,"time":99.1292495727539,"chord":"B:maj"},{"index":66,"time":100.04718780517578,"chord":"D:maj6"},{"index":67,"time":100.96499633789062,"chord":"A:maj6"},{"index":68,"time":101.88356018066406,"chord":"E:maj"},{"index":69,"time":102.80337524414062,"chord":"B:min"},{"index":70,"time":103.72325134277344,"chord":"D:maj6"},{"index":71,"time":104.64225006103516,"chord":"A:maj"},{"index":72,"time":105.56031036376953,"chord":"E:maj"},{"index":73,"time":106.47837829589844,"chord":"B:min"},{"index":74,"time":107.39662170410156,"chord":"D:maj7"},{"index":75,"time":108.31293487548828,"chord":"A:min6"},{"index":76,"time":109.22856140136719,"chord":"E:maj"},{"index":77,"time":110.14412689208984,"chord":"D:maj6"},{"index":78,"time":111.97906494140625,"chord":"A:maj"},{"index":79,"time":112.89656066894531,"chord":"E:maj"},{"index":80,"time":114.0451889038086,"chord":"D:maj6"},{"index":81,"time":116.11900329589844,"chord":"E:maj"},{"index":82,"time":117.50187683105469,"chord":"G:maj7"},{"index":83,"time":119.1052474975586,"chord":"D:maj6"},{"index":84,"time":120.02449798583984,"chord":"E:min"},{"index":85,"time":121.16856384277344,"chord":"A:7"},{"index":86,"time":122.99349975585938,"chord":"B:min7"},{"index":87,"time":124.82231140136719,"chord":"G:maj7"},{"index":88,"time":126.66243743896484,"chord":"D:maj6"},{"index":89,"time":127.35206604003906,"chord":"E:min"},{"index":90,"time":128.5022430419922,"chord":"A:7"},{"index":91,"time":130.33587646484375,"chord":"B:min7"},{"index":92,"time":134.00619506835938,"chord":"C#:maj"},{"index":93,"time":134.924560546875,"chord":"G#:maj"},{"index":94,"time":135.84336853027344,"chord":"A#:min7"},{"index":95,"time":136.7611846923828,"chord":"F#:maj"},{"index":96,"time":137.6796875,"chord":"C#:maj"},{"index":97,"time":138.59681701660156,"chord":"G#:maj"},{"index":98,"time":139.51168823242188,"chord":"A#:min7"},{"index":99,"time":140.42906188964844,"chord":"F#:maj"},{"index":100,"time":141.34762573242188,"chord":"D#:min"},{"index":101,"time":143.1830596923828,"chord":"A#:min"},{"index":102,"time":145.018310546875,"chord":"F#:maj"},{"index":103,"time":146.85499572753906,"chord":"G#:maj"},{"index":104,"time":148.69155883789062,"chord":"C#:maj"},{"index":105,"time":149.61000061035156,"chord":"G#:maj"},{"index":106,"time":150.5282440185547,"chord":"A#:min7"},{"index":107,"time":151.4451904296875,"chord":"F#:maj"},{"index":108,"time":152.36244201660156,"chord":"C#:maj"},{"index":109,"time":153.2806854248047,"chord":"G#:maj"},{"index":110,"time":154.19906616210938,"chord":"A#:min7"},{"index":111,"time":155.11618041992188,"chord":"F#:maj"},{"index":112,"time":156.03155517578125,"chord":"D#:min"},{"index":113,"time":158.09461975097656,"chord":"A#:min7"},{"index":114,"time":159.70181274414062,"chord":"F#:maj"},{"index":115,"time":161.53805541992188,"chord":"G#:maj"},{"index":116,"time":163.37619018554688,"chord":"C#:maj7"},{"index":117,"time":167.2740020751953,"chord":"A:min7"},{"index":118,"time":174.3886260986328,"chord":"C:maj6"},{"index":119,"time":181.72894287109375,"chord":"N"},{"index":120,"time":191.37062072753906,"chord":"D#:min"},{"index":121,"time":192.74794006347656,"chord":"G#:7"},{"index":122,"time":194.58230590820312,"chord":"A#:maj"},{"index":123,"time":198.0200653076172,"chord":"G:maj6"},{"index":124,"time":199.8568115234375,"chord":"A:min7"},{"index":125,"time":212.01849365234375,"chord":"N"},{"index":126,"time":212.934814453125,"chord":"C#:maj"},{"index":127,"time":213.85299682617188,"chord":"G#:maj"},{"index":128,"time":214.77243041992188,"chord":"A#:min7"},{"index":129,"time":215.69081115722656,"chord":"F#:maj"},{"index":130,"time":216.60731506347656,"chord":"C#:maj"},{"index":131,"time":217.52444458007812,"chord":"G#:maj"},{"index":132,"time":218.44149780273438,"chord":"A#:min7"},{"index":133,"time":219.35818481445312,"chord":"F#:maj"},{"index":134,"time":220.27706909179688,"chord":"D#:min"},{"index":135,"time":222.11569213867188,"chord":"A#:min"},{"index":136,"time":223.9512481689453,"chord":"F#:maj7"},{"index":137,"time":225.7860565185547,"chord":"G#:maj"},{"index":138,"time":227.62005615234375,"chord":"C#:maj"},{"index":139,"time":228.53744506835938,"chord":"G#:maj"},{"index":140,"time":229.45343017578125,"chord":"A#:min7"},{"index":141,"time":230.37074279785156,"chord":"F#:maj"},{"index":142,"time":231.29019165039062,"chord":"C#:maj"},{"index":143,"time":232.20849609375,"chord":"G#:maj"},{"index":144,"time":233.12586975097656,"chord":"A#:min7"},{"index":145,"time":234.0437469482422,"chord":"F#:maj7"},{"index":146,"time":234.9635009765625,"chord":"D#:min"},{"index":147,"time":237.0262451171875,"chord":"A#:min"},{"index":148,"time":238.62918090820312,"chord":"F#:maj7"},{"index":149,"time":240.4694366455078,"chord":"G#:maj"},{"index":150,"time":242.2998809814453,"chord":"C#:maj"},{"index":151,"time":243.2156219482422,"chord":"G#:maj"},{"index":152,"time":244.13436889648438,"chord":"A#:min"},{"index":153,"time":245.054443359375,"chord":"F#:maj"},{"index":154,"time":245.97369384765625,"chord":"C#:maj"},{"index":155,"time":246.89181518554688,"chord":"G#:maj"},{"index":156,"time":247.80931091308594,"chord":"A#:min7"},{"index":157,"time":248.72674560546875,"chord":"F#:maj"},{"index":158,"time":249.64443969726562,"chord":"C#:maj"},{"index":159,"time":250.5625,"chord":"G#:maj"},{"index":160,"time":251.4798126220703,"chord":"A#:min7"},{"index":161,"time":252.39837646484375,"chord":"F#:maj"},{"index":162,"time":253.3183135986328,"chord":"C#:maj"},{"index":163,"time":254.23831176757812,"chord":"G#:maj"},{"index":164,"time":255.15731811523438,"chord":"A#:min7"},{"index":165,"time":256.0767517089844,"chord":"F#:maj7"},{"index":166,"time":256.9960632324219,"chord":"C#:maj"},{"index":167,"time":265.2544860839844,"chord":"N"}]}}

    # HotLimit
    chords_dict = {"status":{"code":200},"chords_result":{"num_chords":131,"chords":[{"index":0,"time":0.17231249809265137,"chord":"N"},{"index":1,"time":7.807812690734863,"chord":"G#:7"},{"index":2,"time":9.554374694824219,"chord":"E:maj"},{"index":3,"time":10.426562309265137,"chord":"F#:maj"},{"index":4,"time":11.296937942504883,"chord":"G#:7"},{"index":5,"time":13.038374900817871,"chord":"E:maj"},{"index":6,"time":13.910062789916992,"chord":"F#:maj"},{"index":7,"time":14.779812812805176,"chord":"G#:maj"},{"index":8,"time":16.520187377929688,"chord":"E:maj"},{"index":9,"time":17.389999389648438,"chord":"F#:maj"},{"index":10,"time":18.26156234741211,"chord":"G#:maj"},{"index":11,"time":20.001937866210938,"chord":"E:maj6"},{"index":12,"time":20.871936798095703,"chord":"F#:min"},{"index":13,"time":21.743000030517578,"chord":"G#:7"},{"index":14,"time":23.48724937438965,"chord":"C#:7"},{"index":15,"time":25.011062622070312,"chord":"E:maj7"},{"index":16,"time":26.098562240600586,"chord":"B:maj"},{"index":17,"time":26.970500946044922,"chord":"C#:maj7"},{"index":18,"time":27.841562271118164,"chord":"D#:7"},{"index":19,"time":28.71237564086914,"chord":"G#:7"},{"index":20,"time":30.45462417602539,"chord":"C#:7"},{"index":21,"time":32.195438385009766,"chord":"E:maj"},{"index":22,"time":33.06443786621094,"chord":"B:maj"},{"index":23,"time":33.932186126708984,"chord":"F#:maj"},{"index":24,"time":34.80406188964844,"chord":"B:maj6"},{"index":25,"time":41.778560638427734,"chord":"F#:maj7"},{"index":26,"time":42.43075180053711,"chord":"G#:min7"},{"index":27,"time":45.2603759765625,"chord":"F#:maj7"},{"index":28,"time":45.91293716430664,"chord":"G:maj"},{"index":29,"time":46.130313873291016,"chord":"G#:min7"},{"index":30,"time":48.742374420166016,"chord":"F#:maj7"},{"index":31,"time":49.395626068115234,"chord":"G:maj"},{"index":32,"time":49.61337661743164,"chord":"G#:min7"},{"index":33,"time":55.714874267578125,"chord":"F#:maj7"},{"index":34,"time":56.36756134033203,"chord":"G:maj7"},{"index":35,"time":58.32662582397461,"chord":"E:7"},{"index":36,"time":60.066810607910156,"chord":"A:7"},{"index":37,"time":61.8077507019043,"chord":"B:7"},{"index":38,"time":63.11425018310547,"chord":"A:maj6"},{"index":39,"time":63.549625396728516,"chord":"G:maj7"},{"index":40,"time":65.2881851196289,"chord":"E:min7"},{"index":41,"time":67.03218841552734,"chord":"C#:7"},{"index":42,"time":68.77643585205078,"chord":"F#:7"},{"index":43,"time":72.2603759765625,"chord":"G#:7"},{"index":44,"time":74.00080871582031,"chord":"C#:7"},{"index":45,"time":75.74137878417969,"chord":"E:maj7"},{"index":46,"time":76.61199951171875,"chord":"B:maj"},{"index":47,"time":77.48237609863281,"chord":"C#:maj"},{"index":48,"time":78.35343933105469,"chord":"D#:7"},{"index":49,"time":79.22406005859375,"chord":"G#:7"},{"index":50,"time":80.96743774414062,"chord":"C#:7"},{"index":51,"time":82.71043395996094,"chord":"E:maj"},{"index":52,"time":83.58274841308594,"chord":"B:maj"},{"index":53,"time":84.4530029296875,"chord":"F#:maj"},{"index":54,"time":85.32268524169922,"chord":"G#:min7"},{"index":55,"time":90.98506164550781,"chord":"C#:maj7"},{"index":56,"time":91.42106628417969,"chord":"B:maj6"},{"index":57,"time":92.5086898803711,"chord":"F:maj"},{"index":58,"time":92.72599792480469,"chord":"G#:min7"},{"index":59,"time":95.7733154296875,"chord":"F#:maj7"},{"index":60,"time":96.42668914794922,"chord":"G:maj7"},{"index":61,"time":96.64393615722656,"chord":"G#:min7"},{"index":62,"time":99.2593765258789,"chord":"F#:maj7"},{"index":63,"time":99.9124984741211,"chord":"G:maj7"},{"index":64,"time":100.13018798828125,"chord":"B:maj6"},{"index":65,"time":106.44562530517578,"chord":"F:maj"},{"index":66,"time":106.66337585449219,"chord":"G:maj7"},{"index":67,"time":108.8420639038086,"chord":"E:7"},{"index":68,"time":110.58293914794922,"chord":"A:7"},{"index":69,"time":112.32344055175781,"chord":"B:7"},{"index":70,"time":114.06281280517578,"chord":"G:maj7"},{"index":71,"time":115.8035659790039,"chord":"E:7"},{"index":72,"time":117.54612731933594,"chord":"C#:7"},{"index":73,"time":119.29037475585938,"chord":"F#:7"},{"index":74,"time":122.77543640136719,"chord":"G#:7"},{"index":75,"time":124.51468658447266,"chord":"C#:min7"},{"index":76,"time":126.03475189208984,"chord":"E:maj"},{"index":77,"time":127.12556457519531,"chord":"B:maj"},{"index":78,"time":127.99794006347656,"chord":"C#:7"},{"index":79,"time":128.86769104003906,"chord":"D#:maj7"},{"index":80,"time":129.73849487304688,"chord":"G#:7"},{"index":81,"time":131.4815673828125,"chord":"C#:7"},{"index":82,"time":133.2210693359375,"chord":"E:maj"},{"index":83,"time":134.09288024902344,"chord":"B:maj"},{"index":84,"time":134.96469116210938,"chord":"F#:maj"},{"index":85,"time":135.83956909179688,"chord":"B:maj6"},{"index":86,"time":143.89425659179688,"chord":"G#:min7"},{"index":87,"time":153.2554931640625,"chord":"F#:maj7"},{"index":88,"time":154.1251220703125,"chord":"G#:min7"},{"index":89,"time":155.43099975585938,"chord":"C#:maj7"},{"index":90,"time":156.08399963378906,"chord":"B:maj6"},{"index":91,"time":156.73744201660156,"chord":"F#:maj7"},{"index":92,"time":157.39100646972656,"chord":"G:maj7"},{"index":93,"time":157.60899353027344,"chord":"G#:min7"},{"index":94,"time":163.70468139648438,"chord":"F#:maj7"},{"index":95,"time":164.3570556640625,"chord":"G:maj7"},{"index":96,"time":166.31593322753906,"chord":"E:maj"},{"index":97,"time":168.05349731445312,"chord":"A:7"},{"index":98,"time":169.79481506347656,"chord":"B:7"},{"index":99,"time":171.106689453125,"chord":"A:min"},{"index":100,"time":171.54249572753906,"chord":"G:maj7"},{"index":101,"time":173.28250122070312,"chord":"E:min7"},{"index":102,"time":175.02182006835938,"chord":"C#:7"},{"index":103,"time":176.7606201171875,"chord":"F#:7"},{"index":104,"time":180.24636840820312,"chord":"G#:7"},{"index":105,"time":181.98849487304688,"chord":"C#:7"},{"index":106,"time":183.73281860351562,"chord":"E:maj"},{"index":107,"time":184.6041259765625,"chord":"B:maj"},{"index":108,"time":185.4745635986328,"chord":"C#:maj"},{"index":109,"time":186.34506225585938,"chord":"D#:maj"},{"index":110,"time":187.21511840820312,"chord":"G#:7"},{"index":111,"time":188.95706176757812,"chord":"C#:7"},{"index":112,"time":190.69981384277344,"chord":"E:maj"},{"index":113,"time":191.5683135986328,"chord":"B:maj"},{"index":114,"time":192.43856811523438,"chord":"F#:maj"},{"index":115,"time":193.3096923828125,"chord":"G#:min7"},{"index":116,"time":195.92425537109375,"chord":"C#:maj7"},{"index":117,"time":197.66525268554688,"chord":"E:maj"},{"index":118,"time":198.53611755371094,"chord":"B:maj"},{"index":119,"time":199.40756225585938,"chord":"C#:maj"},{"index":120,"time":200.27606201171875,"chord":"D#:maj"},{"index":121,"time":200.9268798828125,"chord":"G#:7"},{"index":122,"time":202.88800048828125,"chord":"C#:7"},{"index":123,"time":204.63111877441406,"chord":"E:maj"},{"index":124,"time":205.50411987304688,"chord":"B:maj"},{"index":125,"time":206.37338256835938,"chord":"F#:maj"},{"index":126,"time":207.24362182617188,"chord":"G#:min7"},{"index":127,"time":214.21469116210938,"chord":"F#:maj7"},{"index":128,"time":214.86688232421875,"chord":"G:maj7"},{"index":129,"time":215.08432006835938,"chord":"G#:maj"},{"index":130,"time":221.83706665039062,"chord":"N"}]}}

    chords_dict = {"status":{"code":200},"chords_result":{"num_chords":53,"chords":[{"index":0,"time":0.03312499821186066,"chord":"E:maj"},{"index":1,"time":16.144187927246094,"chord":"A:maj7"},{"index":2,"time":19.624874114990234,"chord":"E:maj"},{"index":3,"time":21.928499221801758,"chord":"A:maj"},{"index":4,"time":24.993812561035156,"chord":"C#:min7"},{"index":5,"time":29.203250885009766,"chord":"F#:maj"},{"index":6,"time":32.2859992980957,"chord":"G#:maj"},{"index":7,"time":34.98412322998047,"chord":"A:maj"},{"index":8,"time":38.05837631225586,"chord":"B:7"},{"index":9,"time":40.771060943603516,"chord":"E:maj"},{"index":10,"time":45.48925018310547,"chord":"F:maj7"},{"index":11,"time":46.68199920654297,"chord":"E:maj"},{"index":12,"time":51.33712387084961,"chord":"N"},{"index":13,"time":53.646751403808594,"chord":"A:maj"},{"index":14,"time":56.30324935913086,"chord":"C#:min7"},{"index":15,"time":62.25631332397461,"chord":"B:min"},{"index":16,"time":62.6723747253418,"chord":"E:maj"},{"index":17,"time":73.6214370727539,"chord":"G:maj7"},{"index":18,"time":74.49418640136719,"chord":"A:maj7"},{"index":19,"time":74.92475128173828,"chord":"E:maj"},{"index":20,"time":88.40174865722656,"chord":"E:maj6"},{"index":21,"time":93.58368682861328,"chord":"F#:maj"},{"index":22,"time":96.18412780761719,"chord":"B:maj6"},{"index":23,"time":99.27981567382812,"chord":"A:maj"},{"index":24,"time":102.71818542480469,"chord":"E:maj"},{"index":25,"time":105.66956329345703,"chord":"A:maj"},{"index":26,"time":108.09200286865234,"chord":"B:7"},{"index":27,"time":108.87918853759766,"chord":"C#:min"},{"index":28,"time":109.65131378173828,"chord":"F#:7"},{"index":29,"time":110.4383773803711,"chord":"E:maj"},{"index":30,"time":112.05294036865234,"chord":"F#:maj"},{"index":31,"time":115.24418640136719,"chord":"G#:maj"},{"index":32,"time":118.05075073242188,"chord":"A:maj"},{"index":33,"time":121.21156311035156,"chord":"B:7"},{"index":34,"time":123.18781280517578,"chord":"E:maj"},{"index":35,"time":134.20106506347656,"chord":"N"},{"index":36,"time":136.71768188476562,"chord":"A:maj"},{"index":37,"time":139.669189453125,"chord":"E:maj6"},{"index":38,"time":145.5850067138672,"chord":"F:maj"},{"index":39,"time":148.8849334716797,"chord":"F:min"},{"index":40,"time":150.53599548339844,"chord":"A#:maj"},{"index":41,"time":151.39137268066406,"chord":"F:maj"},{"index":42,"time":155.64813232421875,"chord":"G#:dim7"},{"index":43,"time":156.96006774902344,"chord":"A#:min6"},{"index":44,"time":157.8509979248047,"chord":"A#:maj"},{"index":45,"time":161.30706787109375,"chord":"D:min7"},{"index":46,"time":163.9160614013672,"chord":"C:maj6"},{"index":47,"time":165.23193359375,"chord":"F:min"},{"index":48,"time":166.1148681640625,"chord":"C:7"},{"index":49,"time":167.43568420410156,"chord":"F:maj"},{"index":50,"time":178.5704345703125,"chord":"N"},{"index":51,"time":180.35450744628906,"chord":"F:maj"},{"index":52,"time":183.90261840820312,"chord":"N"}]}}
    chords2midi(chords_dict, file_name)